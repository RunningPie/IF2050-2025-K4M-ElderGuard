<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>

<StackPane xmlns="http://javafx.com/javafx/17.0.2-ea" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.AuthController"
           prefHeight="700.0" prefWidth="900.0" style="-fx-background-color: linear-gradient(to bottom right, #11998e 0%, #38ef7d 100%);">

    <!-- Main Card Container -->
    <VBox alignment="CENTER" maxWidth="450" maxHeight="600" style="-fx-background-color: white; -fx-background-radius: 10; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.1), 10, 0, 0, 5); -fx-padding: 40;">

        <!-- Header Section -->
        <VBox alignment="CENTER" spacing="10" style="-fx-padding: 0 0 25 0;">
            <Label text="Create Account" style="-fx-font-size: 28px; -fx-font-weight: bold; -fx-text-fill: #2c3e50;"/>
            <Label text="Join ElderGuard today" style="-fx-font-size: 14px; -fx-text-fill: #7f8c8d;"/>
        </VBox>

        <!-- Form Section -->
        <VBox spacing="18" alignment="CENTER" prefWidth="350">

            <!-- Username Field -->
            <VBox spacing="8">
                <Label text="Username" style="-fx-font-size: 14px; -fx-font-weight: 500; -fx-text-fill: #2c3e50;"/>
                <TextField fx:id="usernameField" promptText="Choose a username"
                           style="-fx-pref-width: 350; -fx-pref-height: 45; -fx-background-color: #f8f9fa; -fx-border-color: #e9ecef; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 12; -fx-font-size: 14px;"/>
            </VBox>

            <!-- Password Field -->
            <VBox spacing="8">
                <Label text="Password" style="-fx-font-size: 14px; -fx-font-weight: 500; -fx-text-fill: #2c3e50;"/>
                <PasswordField fx:id="passwordField" promptText="Create a secure password"
                               style="-fx-pref-width: 350; -fx-pref-height: 45; -fx-background-color: #f8f9fa; -fx-border-color: #e9ecef; -fx-border-radius: 8; -fx-background-radius: 8; -fx-padding: 12; -fx-font-size: 14px;"/>
                <Label text="Minimum 6 characters" style="-fx-font-size: 11px; -fx-text-fill: #95a5a6;"/>
            </VBox>

            <!-- Role Selection -->
            <VBox spacing="8">
                <Label text="Account Type" style="-fx-font-size: 14px; -fx-font-weight: 500; -fx-text-fill: #2c3e50;"/>
                <ComboBox fx:id="roleComboBox" promptText="Select your role"
                          style="-fx-pref-width: 350; -fx-pref-height: 45; -fx-background-color: #f8f9fa; -fx-border-color: #e9ecef; -fx-border-radius: 8; -fx-background-radius: 8; -fx-font-size: 14px;"/>
                <Label text="Choose the type that best describes you" style="-fx-font-size: 11px; -fx-text-fill: #95a5a6;"/>
            </VBox>

            <!-- Create Account Button -->
            <Button fx:id="signUpButton" text="Create Account" onAction="#handleSignUpSubmit"
                    style="-fx-pref-width: 350; -fx-pref-height: 45; -fx-background-color: #11998e; -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 8; -fx-cursor: hand; -fx-margin: 10 0 0 0;"/>

            <!-- Error/Success Message -->
            <Label fx:id="errorLabel" textFill="#e74c3c" wrapText="true" maxWidth="350" alignment="CENTER"
                   style="-fx-font-size: 13px; -fx-padding: 5 0 0 0;"/>

        </VBox>

        <!-- Account Types Info -->
        <VBox spacing="8" style="-fx-padding: 20; -fx-background-color: #f8f9fa; -fx-background-radius: 8; -fx-margin: 20 0 0 0;" maxWidth="350">
            <Label text="Account Types:" style="-fx-font-weight: bold; -fx-font-size: 13px; -fx-text-fill: #2c3e50;"/>
            <Label text="• LANSIA: For elderly users being monitored" style="-fx-font-size: 11px; -fx-text-fill: #5a6c7d;"/>
            <Label text="• FAMILY: For family members" style="-fx-font-size: 11px; -fx-text-fill: #5a6c7d;"/>
            <Label text="• MEDICAL_STAFF: For healthcare professionals" style="-fx-font-size: 11px; -fx-text-fill: #5a6c7d;"/>
            <Label text="• ADMIN: For system administrators" style="-fx-font-size: 11px; -fx-text-fill: #5a6c7d;"/>
        </VBox>

        <!-- Footer Section -->
        <VBox alignment="CENTER" spacing="15" style="-fx-padding: 25 0 0 0;">

            <!-- Divider with "OR" -->
            <HBox alignment="CENTER" spacing="10" prefWidth="350">
                <Separator style="-fx-pref-width: 140;"/>
                <Label text="OR" style="-fx-text-fill: #bdc3c7; -fx-font-size: 12px;"/>
                <Separator style="-fx-pref-width: 140;"/>
            </HBox>

            <!-- Back to Login -->
            <HBox alignment="CENTER" spacing="5">
                <Label text="Already have an account?" style="-fx-text-fill: #7f8c8d; -fx-font-size: 13px;"/>
                <Label text="Sign in here" style="-fx-text-fill: #11998e; -fx-font-size: 13px; -fx-cursor: hand; -fx-underline: true;" onMouseClicked="#navigateToLogin"/>
            </HBox>

        </VBox>

    </VBox>

</StackPane>